/* -------------------------------- 
Horizontal Timeline 2.0
by Studocwho @ yCodeTech
Original Horizontal Timeline by CodyHouse
Licensed under the MIT license	
Docs at http://horizontal-timeline.ycodetech.co.uk
-------------------------------- */
!function(e,t,n,a){var s="horizontalTimeline",l={desktopDateIntervals:200,tabletDateIntervals:150,mobileDateIntervals:120,minimalFirstDateInterval:!0,dateDisplay:"dateTime",autoplay:!1,autoplaySpeed:8,autoplayPause_onHover:!1,useScrollWheel:!1,useTouchSwipe:!0,useKeyboardKeys:!1};function o(t,n){this.element=t,this.settings=e.extend({},l,n),this._defaults=l,this._name=s,this.$element=e(t),this.init()}o.prototype.init=function(){0==this.$element.find("li").length&&this.$element.css("opacity",1).html("<h3>There are no events at this point in time.<br><br>Please add some content.</h3>");if(this._addFile("Font-Awesome","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css","css"),this._create(),timelineComponents={},this._timelineComponents(timelineComponents),this.init.addIdsAndClasses=function(){1==timelineComponents.eventsContentList.length?(timelineComponents.eventsContentList.first().attr("id","first"),timelineComponents.timelineEvents.first().addClass("first")):(timelineComponents.eventsContentList.first().attr("id","first").end().last().attr("id","last"),timelineComponents.timelineEvents.first().addClass("first").end().last().addClass("last"))},this.init.addIdsAndClasses(),timelineComponents.eventsContentList.hasClass("selected")){var e=timelineComponents.eventsContentSelected.data("date"),t=timelineComponents.eventsWrapper.find('a[data-date="'+e+'"]');t.addClass("selected"),this._updateOlderEvents(t)}else timelineComponents.eventsContent.find("li#first").addClass("selected").end().siblings(".timeline").find(".events").find("a.first").addClass("selected");this._setDatePosition(timelineComponents);var n=this._setTimelineWidth(timelineComponents);this._updateFilling(timelineComponents.eventsWrapper.find("a.selected"),timelineComponents.fillingLine,n),this.$element.addClass("loaded"),this._setup(this,timelineComponents,n)},o.prototype._create=function(){this.$element.prepend('<div class="timeline"></div>').find(".timeline").append('<div class="events-wrapper"><div class="events"><span class="filling-line" aria-hidden="true"></span></div></div>').append('<div class="timeline-navigation" id="leftNav"></div>').append('<div class="timeline-navigation" id="rightNav"></div>').find("#leftNav").append('<a href="" class="fa fa-3x fa-chevron-circle-left scroll-left inactive"></a>').append('<a href="" class="fa fa-3x fa-arrow-circle-left prev inactive"></a>').end().find("#rightNav").append('<a href="" class="fa fa-3x fa-arrow-circle-right next"></a>').append('<a href="" class="fa fa-3x fa-chevron-circle-right scroll-right"></a>'),1==this.settings.autoplay&&this.$element.find(".timeline").append('<div class="timeline-navigation" id="pausePlay"></div>').find("#pausePlay").append('<a href="" class="fa fa-3x fa-pause-circle pause"></a>'),this._create.date=function(t,n,i){"dateTime"==t.settings.dateDisplay?t.$element.children(".events-content").find("li").each(function(){t._create.eventDateDisplay(t,e(this),"dateTime",n,i)}):"date"==t.settings.dateDisplay?t.$element.children(".events-content").find("li").each(function(){t._create.eventDateDisplay(t,e(this),"date",n,i)}):"time"==t.settings.dateDisplay?t.$element.children(".events-content").find("li").each(function(){t._create.eventDateDisplay(t,e(this),"time",n,i)}):"dayMonth"==t.settings.dateDisplay?t.$element.children(".events-content").find("li").each(function(){t._create.eventDateDisplay(t,e(this),"dayMonth",n,i)}):"monthYear"==t.settings.dateDisplay?t.$element.children(".events-content").find("li").each(function(){t._create.eventDateDisplay(t,e(this),"monthYear",n,i)}):"year"==t.settings.dateDisplay&&t.$element.children(".events-content").find("li").each(function(){t._create.eventDateDisplay(t,e(this),"year",n,i)})},this._create.eventDateDisplay=function(t,n,i,a,s){var l=n.data("date");function o(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}isDateTime=n.is('[data-date*="T"]'),isTime=n.not('[data-date*="T"]').is('[data-date*=":"]'),dateTimeDisplay="dateTime"==i,dateDisplay="date"==i,timeDisplay="time"==i,dayMonthDisplay="dayMonth"==i,monthYearDisplay="monthYear"==i,yearDisplay="year"==i,$eventDateDisplay=t.$element.find(".events"),months=[null,"January","February","March","April","May","June","July","August","September","October","November","December"],monthName=months,dateLink='<a href="" data-date="'+l+'">',$arrangementEvent=$eventDateDisplay.find('a[data-date="'+s+'"]');var r=$eventDateDisplay.children("a").map(function(){return e(this).data("date")}).get();if(-1==jQuery.inArray(l,r))if(isDateTime){var p=l.split("T"),d=p[0],h=p[1],m=d.split("/"),f=m[0].replace(/^0+/,""),c=m[1].replace(/^0+/,""),v=m[2];dateTimeDisplay?"append"==a?$eventDateDisplay.append(dateLink+d+"<br>"+h+"</a>"):"after"==a?$arrangementEvent.after(dateLink+d+"<br>"+h+"</a>"):$arrangementEvent.before(dateLink+d+"<br>"+h+"</a>"):dateDisplay?"append"==a?$eventDateDisplay.append(dateLink+d+"</a>"):"after"==a?$arrangementEvent.after(dateLink+d+"</a>"):$arrangementEvent.before(dateLink+d+"</a>"):timeDisplay?"append"==a?$eventDateDisplay.append(dateLink+h+"</a>"):"after"==a?$arrangementEvent.after(dateLink+h+"</a>"):$arrangementEvent.before(dateLink+h+"</a>"):dayMonthDisplay?"append"==a?$eventDateDisplay.append(dateLink+f+o(f)+"<br>"+monthName[c]+"</a>"):"after"==a?$arrangementEvent.after(dateLink+f+o(f)+"<br>"+monthName[c]+"</a>"):$arrangementEvent.before(dateLink+f+o(f)+"<br>"+monthName[c]+"</a>"):monthYearDisplay?"append"==a?$eventDateDisplay.append(dateLink+monthName[c]+"<br>"+v+"</a>"):"after"==a?$arrangementEvent.after(dateLink+monthName[c]+"<br>"+v+"</a>"):$arrangementEvent.before(dateLink+monthName[c]+"<br>"+v+"</a>"):yearDisplay&&("append"==a?$eventDateDisplay.append(dateLink+v+"</a>"):"after"==a?$arrangementEvent.after(dateLink+v+"</a>"):$arrangementEvent.before(dateLink+v+"</a>"))}else if(isTime){var h=l;(dateTimeDisplay||timeDisplay)&&("append"==a?$eventDateDisplay.append(dateLink+h+"</a>"):"after"==a?$arrangementEvent.after(dateLink+h+"</a>"):$arrangementEvent.before(dateLink+h+"</a>"))}else{var d=l,m=d.split("/"),f=m[0].replace(/^0+/,""),c=m[1].replace(/^0+/,""),v=m[2];(dateTimeDisplay||dateDisplay)&&("append"==a?$eventDateDisplay.append(dateLink+d+"</a>"):"after"==a?$arrangementEvent.after(dateLink+d+"</a>"):$arrangementEvent.before(dateLink+d+"</a>")),dayMonthDisplay&&("append"==a?$eventDateDisplay.append(dateLink+f+o(f)+"<br>"+monthName[c]+"</a>"):"after"==a?$arrangementEvent.after(dateLink+f+o(f)+"<br>"+monthName[c]+"</a>"):$arrangementEvent.before(dateLink+f+o(f)+"<br>"+monthName[c]+"</a>")),monthYearDisplay&&("append"==a?$eventDateDisplay.append(dateLink+monthName[c]+"<br>"+v+"</a>"):"after"==a?$arrangementEvent.after(dateLink+monthName[c]+"<br>"+v+"</a>"):$arrangementEvent.before(dateLink+monthName[c]+"<br>"+v+"</a>")),yearDisplay&&("append"==a?$eventDateDisplay.append(dateLink+v+"</a>"):"after"==a?$arrangementEvent.after(dateLink+v+"</a>"):$arrangementEvent.before(dateLink+v+"</a>"))}},this._create.date(this,"append")},o.prototype._timelineComponents=function(e){e.eventsContent=this.$element.children(".events-content"),e.eventsContentList=e.eventsContent.find("li"),e.eventsContentSelected=e.eventsContent.find("li.selected"),e.timelineWrapper=e.eventsContent.parent().find(".events-wrapper"),e.eventsWrapper=e.timelineWrapper.children(".events"),e.fillingLine=e.eventsWrapper.children(".filling-line"),e.timelineEvents=e.eventsWrapper.find("a"),e.timelineNavigation=e.timelineWrapper.siblings(".timeline-navigation")},o.prototype._setup=function(i,a,s){var l,o,r,p,d=this.$element.attr("id");if(this._setup.mobileResizeFix=function(n){var i=this.$element.data("plugin_"+this._name).windowWidth,a=e(t).width();a!==i&&this.refresh(),this.$element.data("plugin_"+this._name).windowWidth=a},e(t).on("resize."+this._name+"_"+d,(l=e.proxy(this._setup.mobileResizeFix,this),o=250,function(){var e=this,t=arguments,n=r&&!p;clearTimeout(p),p=setTimeout(function(){p=null,r||l.apply(e,t)},o),n&&l.apply(e,t)})),this.$element.on("click."+this._name,".timeline-navigation .inactive",function(e){return e.stopImmediatePropagation(),!1}).on("click."+this._name,".timeline-navigation a",e.proxy(function(){event.preventDefault();var t=e(event.target);s=this._setTimelineWidth(a),t.is(".next")&&this._showNewContent(a,s,"next"),t.is(".prev")&&this._showNewContent(a,s,"prev"),t.is(".scroll-right")&&this._updateSlide(a,s,"right"),t.is(".scroll-left")&&this._updateSlide(a,s,"left")},this)).on("click."+this._name,".events a",e.proxy(function(){event.preventDefault();var t=e(event.target);this.$element.find(".events").find("a").removeClass("selected"),t.addClass("selected"),this._updateOlderEvents(t),s=this._setTimelineWidth(a),this._updateFilling(t,a.fillingLine,s),this._updateVisibleContent(t,a.eventsContent),this._updateTimelinePosition(t,a)},this)),1==this.settings.autoplay){var h=a.timelineNavigation.find(".pause")[0];if(a.eventsContent.prepend('<div class="progressBarWrapper"><div class="progressBar"></div></div>'),this._setup.autoplay=function(t,n){t._setup.autoplay.countEvents=function(){return n.timelineEvents.length};var i,a,s,l,o=Number(t.settings.autoplaySpeed),r=t.$element.find("#pausePlay");function p(t){s=0,i=!1,autoplayTimelineTotalWidth=t._setTimelineWidth(n),a=setInterval(e.proxy(d,t),10)}function d(){if(!1===i){var t=this._checkMQ();s+="tinyMobile"==t||"mobile"==t?3/o:1/o,e(".progressBar").css({width:s+"%"}),l=n.eventsWrapper.find(".selected").index(),s>=100&&(l==this._setup.autoplay.countEvents()?(this._showNewContent(n,autoplayTimelineTotalWidth,"start"),l=n.eventsWrapper.find(".selected").index()):this._showNewContent(n,autoplayTimelineTotalWidth,"next"),l++)}}t._setup.autoplay.start=p,t._setup.autoplay.start(t),t._setup.autoplay.pause=function(){i=!0},t._setup.autoplay.resume=function(){i=!1},t._setup.autoplay.moved=function(e){r.hasClass("clicked")||(clearInterval(a),p(e))},t._setup.autoplay.changeButtons=function(e){var t=e.data,n=t[0],i=t[1],a=t[2],s=this.$element.find("#pausePlay"),l='<a href="" class="fa fa-3x fa-play-circle play"></a>';"click"==e.type&&1==n?(s.addClass("clicked"),this.$element.data("plugin_"+this._name).mouseEvent="click",s.html(l),this._setup.autoplay.pause(),console.log("Autoplay is "+a+".")):"click"!=e.type||n||(s.removeClass("clicked"),this.$element.data("plugin_"+this._name).mouseEvent=!1,s.html(i),this._setup.autoplay.resume(),console.log("Autoplay is "+a+"."));"mouseenter"!=e.type||s.hasClass("clicked")?"mouseleave"!=e.type||s.hasClass("clicked")||(this.$element.data("plugin_"+this._name).mouseEvent=!1,s.html(i),this._setup.autoplay.resume(),console.log("Autoplay is "+a+".")):(this.$element.data("plugin_"+this._name).mouseEvent="hover",s.html(l),this._setup.autoplay.pause(),console.log("Autoplay is "+a+"."))},t._setup.autoplay.refresh=function(e){e._timelineComponents(n),autoplayTimelineTotalWidth=e._setTimelineWidth(n)},t._setup.autoplay.destroy=function(){clearInterval(a)}},this._setup.autoplay(this,a),this.$element.on("click."+this._name,".timeline-navigation .pause",[!0,h,"paused"],e.proxy(this._setup.autoplay.changeButtons,this)).on("click."+this._name,".timeline-navigation .play",[!1,h,"playing"],e.proxy(this._setup.autoplay.changeButtons,this)),1==this.settings.autoplayPause_onHover){var m=this._checkMQ();"smallTablet"!=m&&"tablet"!=m&&"desktop"!=m||this.$element.on("mouseenter."+this._name,".events-content",[!1,h,"paused"],e.proxy(this._setup.autoplay.changeButtons,this)).on("mouseleave."+this._name,".events-content",[!1,h,"playing"],e.proxy(this._setup.autoplay.changeButtons,this))}}var f=e(".goto-horizontal-timeline");if(f.length>0){f.on("click."+this._name,e.proxy(function(t){t.preventDefault();var n={},i=e(t.target),a=i.attr("href"),s=e(a),l="#"==a;if(l){var o="#"+i.parents(".horizontal-timeline").attr("id");s=e(o)}n.timelineWrapper=s.find(".events-wrapper"),n.eventsWrapper=n.timelineWrapper.children(".events"),n.fillingLine=n.eventsWrapper.children(".filling-line"),n.timelineEvents=n.eventsWrapper.find("a"),n.timelineNavigation=s.find(".timeline-navigation"),n.eventsContent=s.children(".events-content"),n.eventsContentList=n.eventsContent.find("li");var r,p,d,h,m=i.data("gototimeline"),f=m.date,c=m.scrollspeed,v=m.scrolloffset,u=m.scrolleasing,y={speed:500,offset:0,easing:"linear"};void 0!==m&&(r=f,p=void 0!==c?c:y.speed,d=void 0!==v?v:y.offset,h=void 0!==u?u:y.easing);var g='a[data-date="'+r+'"]',_=n.eventsWrapper.find("a"),C=n.eventsWrapper.find(g),D=n.eventsWrapper.width();l?b(this):e("html, body").stop().animate({scrollTop:s.offset().top-d},p,h,e.proxy(function(){b(this)},this));function b(e){C.hasClass("selected")||(_.removeClass("selected"),C.addClass("selected"),e._updateOlderEvents(C),e._updateFilling(C,n.fillingLine,D),e._updateVisibleContent(C,n.eventsContent)),e._updateTimelinePosition(C,n)}},this))}if(1==this.settings.useScrollWheel){var c="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";this._setup.mousewheel=function(e,t){this._timelineComponents(a),s=this._setTimelineWidth(a),e.deltaY>0?this._showNewContent(a,s,"prev"):this._showNewContent(a,s,"next");e.preventDefault()},this._addFile("mousewheel",c,"js",e.proxy(function(){t.setTimeout(e.proxy(function(){this.$element.on("mousewheel."+this._name,".events-content",e.proxy(this._setup.mousewheel,this))},this),300)},this))}if(1==this.settings.useTouchSwipe){c="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.18/jquery.touchSwipe.min.js";this._setup.swipe=function(e,t){e._timelineComponents(a),s=e._setTimelineWidth(a),e._showNewContent(a,s,t)},this._addFile("TouchSwipe",c,"js",e.proxy(function(){t.setTimeout(e.proxy(function(){a.eventsContent.swipe({swipeRight:e.proxy(function(e,t,n,i,a){this._setup.swipe(this,"prev")},this),swipeLeft:e.proxy(function(e,t,n,i,a){this._setup.swipe(this,"next")},this),threshold:75,preventDefaultEvents:!1}),a.timelineWrapper.swipe({swipeRight:e.proxy(function(e,t,n,i,l){var o=this._getTranslateValue(a.eventsWrapper),r=Number(a.timelineWrapper.width());this._translateTimeline(a,n+o,r-s)},this),swipeLeft:e.proxy(function(e,t,n,i,l){var o=this._getTranslateValue(a.eventsWrapper),r=Number(a.timelineWrapper.width());this._translateTimeline(a,-n+o,r-s)},this),threshold:30,preventDefaultEvents:!1})},this),1e3)},this)),a.timelineWrapper.addClass("touch-enabled").parent().siblings(".events-content").addClass("touch-enabled")}if(1==this.settings.useKeyboardKeys){this._setup.keyboardKeys=function(e){this._timelineComponents(a),s=this._setTimelineWidth(a),"37"==e.which&&this._elementInViewport(this.element)?this._showNewContent(a,s,"prev"):"39"==e.which&&this._elementInViewport(this.element)&&this._showNewContent(a,s,"next")};d=this.$element.attr("id");e(n).on("keyup."+this._name+"_"+d,e.proxy(this._setup.keyboardKeys,this))}},o.prototype.refresh=function(){this._timelineComponents(timelineComponents),timelineComponents.eventsContent.find("#first").removeAttr("id").end().find("#last").removeAttr("id").end(),timelineComponents.eventsWrapper.find(".first").removeClass("first").end().find(".last").removeClass("last").end(),this.init.addIdsAndClasses(),this._setDatePosition(timelineComponents),timelineTotalWidth=this._setTimelineWidth(timelineComponents),this._updateFilling(timelineComponents.eventsWrapper.find("a.selected"),timelineComponents.fillingLine,timelineTotalWidth),1==this.settings.autoplay&&this._setup.autoplay.refresh(this),console.log("refreshed #"+this.element.id)},o.prototype.destroy=function(){var i=this.$element,a=i.attr("id"),l=i.data("plugin_"+this._name).originalEventsContent;1==e(".horizontal-timeline .timeline").length&&(e(".goto-horizontal-timeline").off("."+this._name),e("body").removeData("plugin_"+this._name+"_loadedFile")),i.removeClass("loaded").off("."+this._name,"**").find(".timeline").remove().end().find(".events-content").replaceWith(l).swipe("destroy"),i.find(".events-wrapper").removeClass("touch-enabled").swipe("destroy"),e(n).off("."+this._name+"_"+a),e(t).off("."+this._name+"_"+a),1==this.settings.autoplay&&this._setup.autoplay.destroy(),i.removeData("plugin_"+s),console.log("destroyed #"+this.element.id)},o.prototype.addEvent=function(e,t,n){this._timelineComponents(timelineComponents);var i='[data-date="'+n+'"]',a=e.split("data-date")[1].split('"'),s=timelineComponents.eventsContent.find("li"+i),l=timelineComponents.eventsWrapper.find("a.selected"),o=this.$element.data("plugin_"+this._name).existingDates;-1==jQuery.inArray(a[1],o)&&(o.push(a[1]),"before"==t?s.before(e):"after"==t&&s.after(e),this._create.date(this,t,n),this._updateOlderEvents(l),this.refresh())},o.prototype.removeEvent=function(e){this._timelineComponents(timelineComponents);var t,n='[data-date="'+e+'"]',i=timelineComponents.eventsWrapper.find("a"+n),a=timelineComponents.eventsContent.find("li"+n);timelineComponents.timelineEvents.length>1?(i.is(".selected")?(a.removeClass(".selected"),i.next().length?(t=i.next().addClass("selected"),a.next().addClass("selected")):(t=i.prev().addClass("selected"),a.prev().addClass("selected"))):t=timelineComponents.eventsWrapper.find("a.selected"),this._updateOlderEvents(t),i.remove(),a.remove(),this.refresh()):console.warn("Timeline must always have at least 1 event after initialisation, therefore it can't be removed. Please use the Destroy method instead.")},o.prototype._updateSlide=function(e,t,n){var i=this._getTranslateValue(e.eventsWrapper),a=Number(e.timelineWrapper.width());"right"==n?this._translateTimeline(e,i-a,a-t):this._translateTimeline(e,i+a)},o.prototype._showNewContent=function(e,t,n){var i=e.eventsContent.find(".selected");if(("next"==n?i.next():i.prev()).length>0){var a,s=e.eventsWrapper.find(".selected");"start"==n?a=e.eventsWrapper.find(".first"):"next"==n?a=s.next("a"):"prev"==n&&(a=s.prev("a")),this._updateVisibleContent(a,e.eventsContent),a.addClass("selected"),s.removeClass("selected"),this._updateFilling(a,e.fillingLine,t),this._updateOlderEvents(a),this._updateTimelinePosition(a,e)}},o.prototype._updateTimelinePosition=function(e,t){var n=Number(e.css("left").replace("px","")),i=t.timelineWrapper.width(),a=t.eventsWrapper.width();this._translateTimeline(t,i/2-n,i-a)},o.prototype._translateTimeline=function(e,t,n){t=t>0?0:t;t=void 0!==n&&t<n?n:t,this._setTransformValue(e.eventsWrapper,"translateX",t+"px"),this._buttonDisable(e,t,n)},o.prototype._updateFilling=function(e,t,n){var i=e.css("left").replace("px",""),a=e.css("width").replace("px",""),s=(i=Number(i)+Number(a)/2)/n;this._setTransformValue(t,"scaleX",s)},o.prototype._setDatePosition=function(e){var t=0,n=0,a=0;this._setDateIntervals(e);var s=this._checkMQ();for(1!=this.settings.minimalFirstDateInterval&&"tinyMobile"!=s&&"mobile"!=s||(e.timelineEvents.first().css({left:"0px","padding-left":"10px"}),a=1),i=a;i<e.timelineEvents.length;i++)t=n+dateIntervals,e.timelineEvents.eq(i).css("left",t+"px"),n=t},o.prototype._setTimelineWidth=function(e){var t=0,n=e.timelineWrapper.width();return(t=Number(e.timelineEvents.last().css("left").replace("px",""))+100)<n&&(t=n),e.eventsWrapper.css("width",t+"px"),this._updateTimelinePosition(e.eventsWrapper.find("a.selected"),e),t},o.prototype._updateVisibleContent=function(e,t){var n=e.data("date"),i=t.find(".selected"),a=t.find('[data-date="'+n+'"]'),s=a.outerHeight();if(a.index()>i.index())var l="selected enter-right",o="leave-left";else l="selected enter-left",o="leave-right";a.addClass(l),i.addClass(o).one("webkitAnimationEnd."+this._name+" oanimationend."+this._name+" msAnimationEnd."+this._name+" animationend."+this._name,function(){i.removeClass("leave-right leave-left"),a.removeClass("enter-left enter-right")}).removeClass("selected"),t.height(s+"px"),1!=this.settings.autoplay||this.$element.data("plugin_"+this._name).mouseEvent||this._setup.autoplay.moved(this)},o.prototype._updateOlderEvents=function(e){e.prevAll("a").addClass("older-event").end().nextAll("a").removeClass("older-event"),e.is(".selected")&&e.removeClass("older-event")},o.prototype._getTranslateValue=function(e){var n=t.getComputedStyle(e.get(0),null);if((i=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform")).indexOf("(")>=0)var i,a=(i=(i=(i=i.split("(")[1]).split(")")[0]).split(","))[4];else a=0;return Number(a)},o.prototype._setTransformValue=function(e,t,n){e.css({"-webkit-transform":t+"("+n+")","-moz-transform":t+"("+n+")","-ms-transform":t+"("+n+")","-o-transform":t+"("+n+")",transform:t+"("+n+")"})},o.prototype._elementInViewport=function(e){for(var n=e.offsetTop,i=e.offsetLeft,a=e.offsetWidth,s=e.offsetHeight;e.offsetParent;)n+=(e=e.offsetParent).offsetTop,i+=e.offsetLeft;return n<t.pageYOffset+t.innerHeight&&i<t.pageXOffset+t.innerWidth&&n+s>t.pageYOffset&&i+a>t.pageXOffset},o.prototype._setDateIntervals=function(e){var t=this._checkMQ();"tinyMobile"==t||"mobile"==t?dateIntervals=this.settings.mobileDateIntervals:"smallTablet"==t||"tablet"==t?dateIntervals=this.settings.tabletDateIntervals:"desktop"==t&&(dateIntervals=this.settings.desktopDateIntervals);dateIntervals<120&&(dateIntervals=120)},o.prototype._checkMQ=function(){return t.getComputedStyle(this.element,":before").content.replace(/'/g,"").replace(/"/g,"")},o.prototype._buttonDisable=function(e,t,n){var i=e.timelineNavigation.find(".next"),a=e.timelineNavigation.find(".prev"),s=e.timelineNavigation.find(".scroll-left"),l=e.timelineNavigation.find(".scroll-right"),o=e.timelineWrapper.find(".first"),r=e.timelineWrapper.find(".last");Number(e.timelineWrapper.css("width").replace("px",""))==e.eventsWrapper.width()&&(s.addClass("inactive"),l.addClass("inactive")),1==e.eventsContentList.length?(a.addClass("inactive"),i.addClass("inactive")):(o.is(".selected")?a.addClass("inactive"):a.removeClass("inactive"),r.is(".selected")?i.addClass("inactive"):i.removeClass("inactive")),0==t?s.addClass("inactive"):s.removeClass("inactive"),t==n?l.addClass("inactive"):l.removeClass("inactive")},o.prototype._addFile=function(t,n,i,a){var s,l=e("body").data("plugin_"+this._name+"_loadedFile"),o="js"==i,r="css"==i;o?s=e('link[href*="'+t+'"').filter(function(){return this.value.toLowerCase()==t}):r&&(s=e('link[href*="'+t+'"').filter(function(){return this.value.toLowerCase()==t})),null==l&&(l=new Array),-1!=l.indexOf(n)||s.length?s.length&&-1==l.indexOf(n)?(o&&(console.log(t+" has already been loaded by a <script> tag in the document, no need to load it again. Timeline instance:",this.$element),a(this)),l.push(n)):o&&(console.log(t+" has already been loaded, no need to load it again. Timeline instance:",this.$element),a(this)):(o?(console.log(t+" plugin isn't loaded.",this.$element),e.getScript(n).done(function(e,t){a(this)}).fail(function(e,t,i){console.error("Failed to get "+n+"\n"+e+"\n"+this.settings+"\n"+i)}),console.log(t+" was loaded dynamically.",this.$element)):r&&(console.log(t+" isn't loaded."),e("<link>").attr({href:n,rel:"stylesheet",type:"text/css"}).insertAfter(e("head").find("link").last()),console.log(t+" was loaded dynamically.")),l.push(n)),o&&console.log(t+" executed on timeline instance: ",this.$element),e("body").data("plugin_"+this._name+"_loadedFile",l)},e.fn[s]=function(n){var i,a=arguments,l=e(t).width(),r=e(this).find(".events-content").find("li").map(function(){return e(this).data("date")}).get();return void 0===n||"object"==typeof n?this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,{originalEventsContent:e(this).find(".events-content").clone()[0],windowWidth:l,existingDates:r,Timeline:new o(this,n)})}):"string"==typeof n&&"_"!==n[0]&&"init"!==n?(this.each(function(){var t=e.data(this,"plugin_"+s).Timeline;t instanceof o&&"function"==typeof t[n]&&(i=t[n].apply(t,Array.prototype.slice.call(a,1)))}),void 0!==i?i:this):void 0}}(jQuery,window,document);
